<h2>ğŸ” Consultar Novedades Laborales</h2>
<input type="text" id="codigoEmpleado" placeholder="CÃ³digo del empleado">
<button onclick="buscarEmpleado()">Buscar</button>

<div id="resultadoEmpleado" style="margin-top: 30px;"></div>

<script>
function buscarEmpleado() {
  const codigo = document.getElementById("codigoEmpleado").value;
  fetch(`/empleado/info?codigo=${codigo}`)
    .then(r => r.json())
    .then(data => {
      const contenedor = document.getElementById("resultadoEmpleado");
      contenedor.innerHTML = "";

      if (data.length === 0) {
        contenedor.innerHTML = "<p>No se encontraron datos para ese cÃ³digo.</p>";
        return;
      }

      const emp = data[0];  // Tomamos el primer resultado

      contenedor.innerHTML = `
        <h3>ğŸ‘¤ Datos Personales</h3>
        <table border="1" cellpadding="8">
          <tr><th>CÃ³digo</th><td>${emp.codigo_empleado}</td></tr>
          <tr><th>Nombre</th><td>${emp.nombre_empleado}</td></tr>
          <tr><th>Cargo</th><td>${emp.nombre_cargo}</td></tr>
          <tr><th>Dependencia</th><td>${emp.nombre_dependencia}</td></tr>
          <tr><th>Sueldo</th><td>$${emp.sueldo}</td></tr>
          <tr><th>EPS</th><td>${emp.nombre_eps}</td></tr>
          <tr><th>ARL</th><td>${emp.nombre_arl}</td></tr>
          <tr><th>PensiÃ³n</th><td>${emp.nombre_pension}</td></tr>
        </table>

        <h3 style="margin-top:30px;">ğŸ“‹ Novedades Laborales</h3>
        <table border="1" cellpadding="8">
          <tr><th>DÃ­as trabajados</th><td>${emp.dias_trabajados}</td></tr>
          <tr><th>BonificaciÃ³n</th><td>$${emp.bonificacion}</td></tr>
          <tr><th>Transporte</th><td>$${emp.transporte}</td></tr>
        </table>

        <h3 style="margin-top:30px;">ğŸ–ï¸ Vacaciones</h3>
        <table border="1" cellpadding="8">
          <tr><th>Inicio</th><td>${emp.vac_inicio || "-"}</td></tr>
          <tr><th>Fin</th><td>${emp.vac_fin || "-"}</td></tr>
        </table>

        <h3 style="margin-top:30px;">ğŸ©º Incapacidad</h3>
        <table border="1" cellpadding="8">
          <tr><th>Inicio</th><td>${emp.inc_inicio || "-"}</td></tr>
          <tr><th>Fin</th><td>${emp.inc_fin || "-"}</td></tr>
          <tr><th>Tipo</th><td>${emp.tipo_incapacidad || "-"}</td></tr>
        </table>
      `;
    });
}
</script>
